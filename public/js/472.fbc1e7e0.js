"use strict";(self["webpackChunkadv_front"]=self["webpackChunkadv_front"]||[]).push([[472],{5472:function(e,t,a){a.r(t),a.d(t,{default:function(){return k}});var i=a(3396),n=a(9242),r=a(7139);const o=e=>((0,i.dD)("data-v-1a5188e5"),e=e(),(0,i.Cn)(),e),l={key:0},d={key:1},s={key:2},u=["onUpdate:modelValue"],p={key:0},c={key:3},m=o((()=>(0,i._)("button",{class:"input",type:"submit"},"Создать",-1)));function v(e,t,a,o,v,g){return(0,i.wg)(),(0,i.iD)("form",{class:"form",onSubmit:t[5]||(t[5]=(0,n.iM)(((...e)=>g.create&&g.create(...e)),["prevent"]))},[(0,i.wy)((0,i._)("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>v.createdAdv.name=e),type:"text",placeholder:"Введите имя"},null,512),[[n.nr,v.createdAdv.name]]),e.validationError.name?((0,i.wg)(),(0,i.iD)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.validationError.name,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{class:"input","onUpdate:modelValue":t[1]||(t[1]=e=>v.createdAdv.price=e),type:"text",placeholder:"Введите цену"},null,512),[[n.nr,v.createdAdv.price]]),e.validationError.price?((0,i.wg)(),(0,i.iD)("div",d,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.validationError.price,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("textarea",{class:"input","onUpdate:modelValue":t[2]||(t[2]=e=>v.createdAdv.description=e),type:"text",placeholder:"Введите описание"},null,512),[[n.nr,v.createdAdv.description]]),e.validationError.description?((0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.validationError.description,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(v.images,((e,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"form__row",key:a},[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t=>e.value=t,class:"input",type:"text",placeholder:"Введите ссылкy"},null,8,u),[[n.nr,e.value]]),a===v.images.length-1?((0,i.wg)(),(0,i.iD)("div",p,[(0,i._)("button",{type:"button",class:"button",onClick:t[3]||(t[3]=(...e)=>g.addImageInput&&g.addImageInput(...e))},"+"),(0,i._)("button",{type:"button",class:"button",onClick:t[4]||(t[4]=(...e)=>g.removeImageInput&&g.removeImageInput(...e))},"-")])):(0,i.kq)("",!0)])))),128)),e.validationError.images?((0,i.wg)(),(0,i.iD)("div",c,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.validationError.images,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t},(0,r.zw)(e),1)))),128))])):(0,i.kq)("",!0),m],32)}a(6699);var g=a(65),w={name:"createView",data(){return{createdAdv:{},images:[{value:""}]}},computed:{...(0,g.rn)(["validationError"])},unmounted(){this.setValidationError({})},methods:{...(0,g.nv)(["createItem"]),...(0,g.OI)(["setValidationError"]),async create(){const e=this.images.map((e=>e.value)).filter((e=>{if(![null,"",void 0].includes(e))return e}));e.length&&(this.createdAdv.images=e);const t=await this.createItem(this.createdAdv);t&&this.$router.push({name:"list"})},addImageInput(){this.images.length<3&&this.images.push({value:""})},removeImageInput(){this.images.length>1&&this.images.pop()}}},h=a(89);const y=(0,h.Z)(w,[["render",v],["__scopeId","data-v-1a5188e5"]]);var k=y}}]);
//# sourceMappingURL=472.fbc1e7e0.js.map